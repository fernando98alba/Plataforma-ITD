<div class="shadow p-3 mb-5 mt-2 bg-white rounded">  
  <h3>Resultado general del estado de verificadores</h3> 
  <div class=" row justify-content-between">
    <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-xs-12 d-flex flex-wrap justify-content-center" > 
      <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 d-flex flex-wrap align-content-around">
        <div class= "ratio ratio-1x1 rounded-circle bg-success bg-gradient position-relative">
          <div >
            <p class= "text-center  position-absolute top-50 start-50 translate-middle"><b style="font-size: 26px"><%=results_general[:green]%></b><br> Verificadores consolidados presente</p>
          </div>
        </div>
        <div class= "ratio ratio-1x1 rounded-circle bg-secondary bg-gradient position-relative">
          <div>
            <p class= "text-center  position-absolute top-50 start-50 translate-middle"><b style="font-size: 26px"><%=results_general[:gray]%></b><br> Verificadores con gran variabilidad</p>
          </div>
        </div>
        <div class= "ratio ratio-1x1 rounded-circle bg-danger bg-gradient position-relative">
          <div>
            <p class= "text-center  position-absolute top-50 start-50 translate-middle" ><b style="font-size: 26px"><%=results_general[:red]%></b><br> Verificadores consolidados ausentes</p>
          </div>
        </div>
      </div>
    </div>
    <script>
      let values;
    </script>
    <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-xs-12 border border-dark  d-flex flex-wrap justify-content-center">
      <div class="col-xl-10 col-lg-10 col-md-12 col-sm-12 col-xs-12 d-flex flex-wrap justify-content-around mb-2">
        <%results_dat.keys.each do |dat|%>
          <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12">
            <div>
              <canvas id=<%= "myChart" + dat%>></canvas>
            </div>

            <script>
              values = [];
              <%results_dat[dat].keys.each do |key|%>
                <%if key != :total%>
                  values.push("<%=results_dat[dat][key]%>");
                <%end%>
              <%end%>
              console.log(values)
              new Chart(document.getElementById('myChart' + "<%=dat%>"), {
                type: 'pie',
                data: {
                  datasets: [{
                    data: values,
                    backgroundColor: ["green", "gray", "red"],
                    borderColor: ["green", "gray", "red"],

                  }]
                },
                options: {
                  plugins: {
                    title: {
                      display: true,
                      text: "<%=dat.capitalize%>",
                      font:{
                        size: 20,
                      },
                      color: "black"
                    },
                    legend: {
                      display: false,

                    }
                  }, 
                },
              });
            </script>

          </div>
        <%end%>
      </div>
    </div>
  </div>
</div>